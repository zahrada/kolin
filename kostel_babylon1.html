
<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <!-- Babylon.js -->
        <script src="https://code.jquery.com/pep/0.4.2/pep.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.6.2/dat.gui.min.js"></script>
        <script src="https://preview.babylonjs.com/ammo.js"></script>
        <script src="https://preview.babylonjs.com/cannon.js"></script>
        <script src="https://preview.babylonjs.com/Oimo.js"></script>
        <script src="https://preview.babylonjs.com/libktx.js"></script>
        <script src="https://preview.babylonjs.com/earcut.min.js"></script>
        <script src="https://preview.babylonjs.com/babylon.js"></script>
        <script src="https://preview.babylonjs.com/inspector/babylon.inspector.bundle.js"></script>
        <script src="https://preview.babylonjs.com/materialsLibrary/babylonjs.materials.min.js"></script>
        <script src="https://preview.babylonjs.com/proceduralTexturesLibrary/babylonjs.proceduralTextures.min.js"></script>
        <script src="https://preview.babylonjs.com/postProcessesLibrary/babylonjs.postProcess.min.js"></script>
        <script src="https://preview.babylonjs.com/loaders/babylonjs.loaders.js"></script>
        <script src="https://preview.babylonjs.com/serializers/babylonjs.serializers.min.js"></script>
        <script src="https://preview.babylonjs.com/gui/babylon.gui.min.js"></script>

        <style>
            html, body {
                overflow: hidden;
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }

            #renderCanvas {
                width: 100%;
                height: 100%;
                touch-action: none;
            }
        </style>
    </head>
<body>
    <canvas id="renderCanvas"></canvas>
    <script>
        var canvas = document.getElementById("renderCanvas");

        var model_0212 = [];  
        var model_0314 = [];
        var model_0320 = []; 
        var model_0326 = []; 
        var model_0403 = [];
        var model_0409 = [];
        var model_0417 = [];
        var model_0424 = [];
        var model_0502 = [];
        var model_0508 = [];
        var model_0515 = [];
        var model_0522 = [];
        var model_0529 = [];
        var model_0608 = [];
        var model_0612 = [];
        var model_0622 = [];
        var model_0629 = [];
        var model_0307 = [];
        var model_1007 = [];
        var model_1707 = [];
        var model_2407 = [];
        var model_3107 = [];

        var engine = null;
        var scene = null;
        var sceneToRender = null;
        var createDefaultEngine = function() { return new BABYLON.Engine(canvas, true, { preserveDrawingBuffer: true, stencil: true }); };
        var createScene = function() {
            var scene = new BABYLON.Scene(engine);
            var light = new BABYLON.HemisphericLight("light", new BABYLON.Vector3(0, 1, 0), scene);
            //Light direction is directly down
	        var light1 = new BABYLON.DirectionalLight("DirectionalLight", new BABYLON.Vector3(0, -1, 0), scene);
	        light1.diffuse = new BABYLON.Color3(2, 2, 2);
	        light1.specular = new BABYLON.Color3(0, 5, 0);
            var camera = new BABYLON.UniversalCamera("UniversalCamera", new BABYLON.Vector3(0, 0, -50), scene);
            //var camera = new BABYLON.FollowCamera("FollowCam", new BABYLON.Vector3(0, 10, -10), scene);
            //var camera = new BABYLON.ArcRotateCamera("Camera", 1, 1, 100, BABYLON.Vector3.Zero(), scene);
            camera.attachControl(canvas, false);

        
            engine.enableOfflineSupport = false;
        
            // Assets manager
            var assetsManager = new BABYLON.AssetsManager(scene);
        
            var meshTask0212 = assetsManager.addMeshTask("model_0212", "", "", "https://cdn.glitch.me/656ce103-95c6-4bb9-b176-297d9e2dc19d%2Fkolin_GIS1.glb?v=1638359247388"); 

        
            // You can handle success and error on a per-task basis (onSuccess, onError)
            meshTask0212.onSuccess = function (task) {
                task.loadedMeshes[0].position = new BABYLON.Vector3(0, 0, 0);
                model_0212 = task.loadedMeshes;
                length = model_0212.length;
                for (i = 0; i <= length; i++) {
                    model_0212[i].isVisible = true;
                }
            }
        
            // But you can also do it on the assets manager itself (onTaskSuccess, onTaskError)
            assetsManager.onTaskError = function (task) {
                console.log("error while loading " + task.name);
            }
        
            assetsManager.onFinish = function (tasks) {
                engine.runRenderLoop(function () {
                    scene.render();
                });
            };
        
        
            // Can now change loading background color:
            engine.loadingUIBackgroundColor = "Purple";
        
            // Just call load to initiate the loading sequence
            assetsManager.load();

                   
//GUI
var myGUI = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("UI");

var panel = new BABYLON.GUI.StackPanel();
panel.width = "300px";
panel.isVertical = true;
panel.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_RIGHT;
panel.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_HIGH;    
myGUI.addControl(panel);

var panelHeading = new BABYLON.GUI.StackPanel();
panelHeading.width = "200px";
panelHeading.height = "45px";
panelHeading.isVertical = false;
panelHeading.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;
panelHeading.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_CENTER;    
panel.addControl(panelHeading);

var heading = new BABYLON.GUI.TextBlock();
heading.text = "Zobrazit/Skrýt";
heading.width = "180px";
heading.height = "40px"
heading.paddingLeft = "10px";
heading.paddingBottom = "15px";
heading.textHorizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;
heading.color = "white";
panelHeading.addControl(heading); 

var panel0212 = new BABYLON.GUI.StackPanel();
panel0212.width = "200px";
panel0212.height = "25px";
panel0212.isVertical = false;
panel0212.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;
panel0212.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_CENTER;    
panel.addControl(panel0212);


var checkbox0212 = new BABYLON.GUI.Checkbox();
    checkbox0212.width = "20px";
    checkbox0212.height = "20px";
    checkbox0212.isChecked = false;
    checkbox0212.color = "red";
    checkbox0212.onIsCheckedChangedObservable.add(function(value) {
        if (value) {
            checkbox0212.color = "green";
            length = model_0212.length;
            for (i = 0; i <= length; i++) {
                model_0212[i].isVisible = true;
            }
        }
		else {
			checkbox0212.color = "red";
            length = model_0212.length;
            for (i = 0; i <= length; i++) {
                model_0212[i].isVisible = false;
            }
		}
    });
    panel0212.addControl(checkbox0212);    

    var text0212 = new BABYLON.GUI.TextBlock();
    text0212.text = "před obnovou";
    text0212.width = "180px";
    text0212.paddingLeft = "10px";
    text0212.textHorizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;
    text0212.color = "white";
    panel0212.addControl(text0212); 
	
 
        
        	return scene;
        };
    var engine;
    try {
    engine = createDefaultEngine();
    } catch(e) {
    console.log("the available createEngine function failed. Creating the default engine instead");
    engine = createDefaultEngine();
    }
        if (!engine) throw 'engine should not be null.';
        scene = createScene();;
        sceneToRender = scene

        engine.runRenderLoop(function () {
            if (sceneToRender) {
                sceneToRender.render();
            }
        });

        // Resize
        window.addEventListener("resize", function () {
            engine.resize();
        });
    </script>
</body>
</html>
